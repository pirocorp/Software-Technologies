@using TeisterMask.Models
@model List<TeisterMask.Models.Task>

@{
	ViewBag.Title = "Index";
}

<div class="container">
	@Html.ActionLink("Create New Task", "Create", "Task", null, new { @class = "button" })
</div>

<div class="tasks container">
	<header>
		<div class="column header open">Open</div>
		<div class="column header inProgress">In progress</div>
		<div class="column header finished">Finished</div>
	</header>
	<ul class="column open">
		@foreach (var task in Model.Where(t => t.Status == StatusTypes.Open).ToList())
		{
			<li>
				@task.Title
				@Html.ActionLink(" ", "Edit", "Task", new { id = task.Id}, new { @class = "icon edit" })
			</li>
		}
	</ul>
	<ul class="column inProgress">
		@foreach (var task in Model.Where(t => t.Status == StatusTypes.InProgress).ToList())
		{
			<li>
				@task.Title
				@Html.ActionLink(" ", "Edit", "Task", new { id = task.Id }, new { @class = "icon edit" })
			</li>
		}
	</ul>
	<ul class="column finished">
		@foreach (var task in Model.Where(t => t.Status == StatusTypes.Finished).ToList())
		{
			<li>
				@task.Title
				@Html.ActionLink(" ", "Edit", "Task", new { id = task.Id }, new { @class = "icon edit" })
			</li>
		}
	</ul>
</div>